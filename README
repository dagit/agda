------------------------------------------------------------------------
To install Agda 2, proceed as follows:

0) Install prerequisites (recent versions of GHC, Alex and Happy).

   In addition to the libraries distributed with GHC you will need the binary
   package which can be downloaded from

   http://hackage.haskell.org/cgi-bin/hackage-scripts/package/binary-0.3

1) Download Agda 2, perhaps as follows:

     darcs get http://www.cs.chalmers.se/~ulfn/darcs/Agda2
     cd Agda2

2) Build and install the Agda 2 library:

     runhaskell Setup.hs configure
     runhaskell Setup.hs build
     runhaskell Setup.hs install

   You may want to set some flags above, for instance as follows:

     runhaskell Setup.hs configure --prefix=~/<some path>
     runhaskell Setup.hs build
     runhaskell Setup.hs install --user

3) If you want to use the Emacs mode, build and install it (see
   below).

4) If you want to use the stand-alone "interpreter", build and install
   it:

     cd src/main
     runhaskell Setup.hs configure
     runhaskell Setup.hs build
     runhaskell Setup.hs install
     cd -

------------------------------------------------------------------------
To use the Agda 2 Emacs mode:

0. Install haskell-mode, version 2.1 or later (see
   http://haskell.org/haskell-mode/).

0.1 Add

    (add-to-list 'load-path "<The Directory Where You Downloaded haskell-mode>")

    to your .emacs file.

1. Install Agda 2. (See above.)

2. Copy the .el files in src/full/Interaction/emacs-mode to some directory
   which is listed in your Emacs load-path. You may want to
   byte-compile the files.

   Untested example installation (creates a new directory and adds it
   to your load-path, does not byte-compile the files):

   mkdir <...>/agda2-mode
   cp src/full/Interaction/emacs-mode/*.el <...>/agda2-mode
   echo "(add-to-list 'load-path \"<...>/agda2-mode/\")" >> ~/.emacs

3. Add the following to your .emacs

   (autoload 'agda2-mode "agda2-mode" "Agda2 mode." t)
   (add-to-list 'auto-mode-alist '("\\.l?agda$" . agda2-mode))

   If you have already set up the suffix .agda for use with some other
   mode you may need to remove or alter that setting. You are
   encouraged to use the suffix .alfa for Agda 1 files.

4. If you want to you can customise some settings. Just start Emacs
   and type the following:

   M-x load-library RET agda2-mode RET
   M-x customize-group RET agda2 RET

   This should not be necessary, though.

Now, if you open a file named XXX.agda the buffer will use agda2-mode.
It may take 5 or 10 seconds before you see anything in the buffer, but
that is normal.
